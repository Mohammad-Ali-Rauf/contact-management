{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Register=props=>{const alertContext=useContext(AlertContext);const authContext=useContext(AuthContext);const{setAlert}=alertContext;const{register,error,clearErrors,isAuthenticated}=authContext;useEffect(()=>{if(isAuthenticated){props.history.push('/');}if(error==='A User with this email already exists.'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);const[user,setUser]=useState({name:'',email:'',password:'',password2:''});const{name,email,password,password2}=user;const onChange=e=>setUser({...user,[e.target.name]:e.target.value});const onSubmit=e=>{e.preventDefault();if(name===''||email===''||password===''){setAlert('Please enter all fields','danger');}else if(password!==password2){setAlert('Password and Confirm Password do not match','danger');}else{register({name,email,password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Registration\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","useContext","useEffect","AlertContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","user","setUser","name","email","password","password2","onChange","e","target","value","onSubmit","preventDefault","className","children","htmlFor","type","minLength"],"sources":["/home/ali/Documents/contact-management/client/src/components/auth/Register.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AlertContext from '../../context/alert/alertContext';\nimport AuthContext from '../../context/auth/authContext';\n\nconst Register = props => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { register, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if(isAuthenticated) {\n            props.history.push('/');\n        }\n\n        if(error === 'A User with this email already exists.') {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n        // eslint-disable-next-line\n    }, [error, isAuthenticated, props.history])\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        password: '',\n        password2: ''\n    });\n\n    const { name, email, password, password2 } = user;\n\n    const onChange = e => setUser({...user, [e.target.name]: e.target.value});\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if(name === '' || email === '' || password === '') {\n            setAlert('Please enter all fields', 'danger');\n        } else if (password !== password2) {\n            setAlert('Password and Confirm Password do not match', 'danger');\n        } else {\n            register({\n                name,\n                email,\n                password\n            })\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1>User Registration</h1>\n            <form onSubmit={onSubmit} >\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Name</label>\n                    <input type=\"text\" name=\"name\" value={name} onChange={onChange} />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} minLength=\"6\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password2\">Confirm Password</label>\n                    <input type=\"password\" name=\"password2\" value={password2} onChange={onChange} minLength=\"6\" />\n                </div>\n                <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\n            </form>\n        </div>\n    )\n};\n\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module"}