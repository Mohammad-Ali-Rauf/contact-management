{"ast":null,"code":"import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/authContext';import AlertContext from'../../context/alert/alertContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=props=>{const alertContext=useContext(AlertContext);const authContext=useContext(AuthContext);const{setAlert}=alertContext;const{login,error,clearErrors,isAuthenticated}=authContext;useEffect(()=>{if(isAuthenticated){props.history.push('/');}if(error==='Incorrect password.'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);const[user,setUser]=useState({email:'',password:''});const{email,password}=user;const onChange=e=>setUser({...user,[e.target.name]:e.target.value});const onSubmit=e=>{e.preventDefault();if(email===''||password===''){setAlert('Please fill the login form','danger');}else{login({email,password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","jsx","_jsx","jsxs","_jsxs","Login","props","alertContext","authContext","setAlert","login","error","clearErrors","isAuthenticated","history","push","user","setUser","email","password","onChange","e","target","name","value","onSubmit","preventDefault","className","children","htmlFor","type"],"sources":["/home/ali/Documents/contact-management/client/src/components/auth/Login.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/authContext';\nimport AlertContext from '../../context/alert/alertContext';\n\nconst Login = props => {\n    const alertContext = useContext(AlertContext);\n    const authContext = useContext(AuthContext);\n\n    const { setAlert } = alertContext;\n    const { login, error, clearErrors, isAuthenticated } = authContext;\n\n    useEffect(() => {\n        if(isAuthenticated) {\n            props.history.push('/');\n        }\n\n        if(error === 'Incorrect password.') {\n            setAlert(error, 'danger');\n            clearErrors();\n        }\n        // eslint-disable-next-line\n    }, [error, isAuthenticated, props.history])\n\n    const [user, setUser] = useState({\n        email: '',\n        password: '',\n    });\n\n    const { email, password } = user;\n\n    const onChange = e => setUser({...user, [e.target.name]: e.target.value});\n\n    const onSubmit = e => {\n        e.preventDefault();\n        if(email === '' || password === '') {\n            setAlert('Please fill the login form', 'danger');\n        } else {\n            login({email, password});\n        }\n    }\n\n    return (\n        <div className='form-container'>\n            <h1>User Login</h1>\n            <form onSubmit={onSubmit} >\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">Email</label>\n                    <input type=\"email\" name=\"email\" value={email} onChange={onChange} />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input type=\"password\" name=\"password\" value={password} onChange={onChange} />\n                </div>\n                <input type=\"submit\" value=\"Login\" className=\"btn btn-primary btn-block\" />\n            </form>\n        </div>\n    )\n};\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAC9D,MAAO,CAAAC,WAAW,KAAM,gCAAgC,CACxD,MAAO,CAAAC,YAAY,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5D,KAAM,CAAAC,KAAK,CAAGC,KAAK,EAAI,CACnB,KAAM,CAAAC,YAAY,CAAGV,UAAU,CAACG,YAAY,CAAC,CAC7C,KAAM,CAAAQ,WAAW,CAAGX,UAAU,CAACE,WAAW,CAAC,CAE3C,KAAM,CAAEU,QAAS,CAAC,CAAGF,YAAY,CACjC,KAAM,CAAEG,KAAK,CAAEC,KAAK,CAAEC,WAAW,CAAEC,eAAgB,CAAC,CAAGL,WAAW,CAElEV,SAAS,CAAC,IAAM,CACZ,GAAGe,eAAe,CAAE,CAChBP,KAAK,CAACQ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,CAC3B,CAEA,GAAGJ,KAAK,GAAK,qBAAqB,CAAE,CAChCF,QAAQ,CAACE,KAAK,CAAE,QAAQ,CAAC,CACzBC,WAAW,CAAC,CAAC,CACjB,CACA;AACJ,CAAC,CAAE,CAACD,KAAK,CAAEE,eAAe,CAAEP,KAAK,CAACQ,OAAO,CAAC,CAAC,CAE3C,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,CAC7BsB,KAAK,CAAE,EAAE,CACTC,QAAQ,CAAE,EACd,CAAC,CAAC,CAEF,KAAM,CAAED,KAAK,CAAEC,QAAS,CAAC,CAAGH,IAAI,CAEhC,KAAM,CAAAI,QAAQ,CAAGC,CAAC,EAAIJ,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAE,CAACK,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,CAAC,CAAC,CAEzE,KAAM,CAAAC,QAAQ,CAAGJ,CAAC,EAAI,CAClBA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClB,GAAGR,KAAK,GAAK,EAAE,EAAIC,QAAQ,GAAK,EAAE,CAAE,CAChCV,QAAQ,CAAC,4BAA4B,CAAE,QAAQ,CAAC,CACpD,CAAC,IAAM,CACHC,KAAK,CAAC,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAC,CAC5B,CACJ,CAAC,CAED,mBACIf,KAAA,QAAKuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B1B,IAAA,OAAA0B,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBxB,KAAA,SAAMqB,QAAQ,CAAEA,QAAS,CAAAG,QAAA,eACrBxB,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB1B,IAAA,UAAO2B,OAAO,CAAC,OAAO,CAAAD,QAAA,CAAC,OAAK,CAAO,CAAC,cACpC1B,IAAA,UAAO4B,IAAI,CAAC,OAAO,CAACP,IAAI,CAAC,OAAO,CAACC,KAAK,CAAEN,KAAM,CAACE,QAAQ,CAAEA,QAAS,CAAE,CAAC,EACpE,CAAC,cACNhB,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB1B,IAAA,UAAO2B,OAAO,CAAC,UAAU,CAAAD,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1C1B,IAAA,UAAO4B,IAAI,CAAC,UAAU,CAACP,IAAI,CAAC,UAAU,CAACC,KAAK,CAAEL,QAAS,CAACC,QAAQ,CAAEA,QAAS,CAAE,CAAC,EAC7E,CAAC,cACNlB,IAAA,UAAO4B,IAAI,CAAC,QAAQ,CAACN,KAAK,CAAC,OAAO,CAACG,SAAS,CAAC,2BAA2B,CAAE,CAAC,EACzE,CAAC,EACN,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtB,KAAK"},"metadata":{},"sourceType":"module"}